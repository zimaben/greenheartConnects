"use strict";function asyncGeneratorStep(e,t,n,r,o,a,s){try{var i=e[a](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,o)}function _asyncToGenerator(i){return function(){var e=this,s=arguments;return new Promise(function(t,n){var r=i.apply(e,s);function o(e){asyncGeneratorStep(r,t,n,o,a,"next",e)}function a(e){asyncGeneratorStep(r,t,n,o,a,"throw",e)}o(void 0)})}}var submitRegistration=function(e){e.preventDefault(),console.log("submit clicked");var t=document.getElementById("passwordconfirm"),n=document.getElementById("password"),r=document.getElementById("frontendvalidation");r.innerText="",r.classList.add("hidden");var o=!1,a=!1,s=!0;t.classList.contains("active")?0<t.value.length&&0<n.value.length?t.value===n.value?a=!0:o="Passwords do not match.":o="Please confirm password.":s=!0;var i,c=document.getElementById("email").value;validateEmail(c)||(o="Please enter a valid email."),!o&&a?registerIt(document.getElementById("username").value=c,c,n.value):!o&&s?(i=document.getElementById("confirmlabel"),t.classList.add("active"),i.classList.add("active")):o&&(r.innerText=o,r.classList.remove("hidden"))};function registerIt(e,t,n){return _registerIt.apply(this,arguments)}function _registerIt(){return(_registerIt=_asyncToGenerator(regeneratorRuntime.mark(function e(t,n,r){var o,a,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("registerit fired"),o=ajaxurl+"?action=register_user_front_end",a=encodeURIComponent("username")+"="+encodeURIComponent(t),a+="&"+encodeURIComponent("email")+"="+encodeURIComponent(n),a+="&"+encodeURIComponent("password")+"="+encodeURIComponent(r),e.next=7,sendit(o,a);case 7:(s=e.sent)&&(document.getElementById("frontendvalidation").innerText=s.message,200==s.status&&(document.getElementById("registration").classList.add("done"),document.getElementById("register_payment").classList.add("active")));case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}var goToMyInfo=function(e){e.preventDefault(),document.getElementById("section_membership").classList.add("done"),document.getElementById("section_myinfo").classList.add("active"),document.querySelector('.gform_footer>input[type="submit"]').classList.add("active")},sendit=function(){var n=_asyncToGenerator(regeneratorRuntime.mark(function e(t,n){var r,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("sendit fired"),console.log(n),r={method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:n},e.prev=3,e.next=6,fetch(t,r);case 6:return o=e.sent,e.next=9,o.json();case 9:if(200==(a=e.sent).status)return console.log(a),e.abrupt("return",a);e.next=13;break;case 13:e.next=18;break;case 15:return e.prev=15,e.t0=e.catch(3),e.abrupt("return",e.t0);case 18:case"end":return e.stop()}},e,null,[[3,15]])}));return function(e,t){return n.apply(this,arguments)}}();function validateUsername(e){if(4<=e.length){console.log(e);var t=/^[a-z0-9]+$/.test(e);return console.log(t),t}return!1}function validateEmail(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}