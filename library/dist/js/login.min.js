"use strict";function asyncGeneratorStep(e,t,n,o,a,r,s){try{var l=e[r](s),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(o,a)}function _asyncToGenerator(l){return function(){var e=this,s=arguments;return new Promise(function(t,n){var o=l.apply(e,s);function a(e){asyncGeneratorStep(o,t,n,a,r,"next",e)}function r(e){asyncGeneratorStep(o,t,n,a,r,"throw",e)}a(void 0)})}}var NeonModalFactory=function(){function n(e,t){document.createDocumentFragment;var n=document.createElement("div"),o=document.createElement("span"),a=document.createElement("div"),r=document.getElementsByTagName("body")[0],s=window.scrollY;n.classList.add("neon-modal"),o.classList.add("close"),a.classList.add("neon-modal-content"),a.appendChild(o),a.appendChild(e),n.appendChild(a),r.appendChild(n),r.style.position="fixed",r.style.top=window.scrollY+"px",o.setAttribute("data-scrollback",parseInt(s)),!(r=(r=a).getElementsByTagName("video")).length||void 0!==(r=r[0])&&(r.autoplay=!0,r.play()),!(r=(s=a).getElementsByTagName("iframe")).length||void 0!==(a=r[0])&&(console.log(s.getBoundingClientRect().width),r=Math.round(.8*s.getBoundingClientRect().width),s=Math.round(r/16*9),a.height=s,a.width=r),o.addEventListener("click",function(e){e.preventDefault();var t=document.getElementsByTagName("BODY")[0],e=document.getElementsByClassName("neon-modal")[0].querySelector("#neonid-signup-response");null!==e&&(e.innerHTML=""),t.classList.remove("modal-open"),t.setAttribute("style",""),t.removeChild(n),NeonModalFactory.instance=null})}var o;return{getInstance:function(e,t){return null==this.instance?(o=new n(e)).constructor=null:!0===NEON_THEME_debug&&console.log("Can't call a modal from inside a modal."),o}}}(),submitRegistration=function(e){e.preventDefault(),console.log("submit clicked");var t=document.getElementById("passwordconfirm"),n=document.getElementById("password"),o=document.getElementById("frontendvalidation");o.innerText="",o.classList.add("hidden");var a=!1,r=!1,s=!0;t.classList.contains("active")?0<t.value.length&&0<n.value.length?t.value===n.value?r=!0:a="Passwords do not match.":a="Please confirm password.":s=!0;var l=document.getElementById("email").value;validateEmail(l)||(a="Please enter a valid email."),!a&&r?(document.getElementById("username").value=l,e=document.getElementById("firstname").value,r=document.getElementById("lastname").value,registerIt(l,l,n.value,e,r)):!a&&s?(s=document.getElementById("confirmlabel"),t.classList.add("active"),s.classList.add("active")):a&&(o.innerText=a,o.classList.remove("hidden"))};function registerIt(e,t,n,o,a){return _registerIt.apply(this,arguments)}function _registerIt(){return(_registerIt=_asyncToGenerator(regeneratorRuntime.mark(function e(t,n,o,a,r){var s,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=ajaxurl+"?action=register_user_front_end",l=encodeURIComponent("username")+"="+encodeURIComponent(t),l+="&"+encodeURIComponent("email")+"="+encodeURIComponent(n),l+="&"+encodeURIComponent("password")+"="+encodeURIComponent(o),l+="&"+encodeURIComponent("firstname")+"="+encodeURIComponent(a),l+="&"+encodeURIComponent("lastname")+"="+encodeURIComponent(r),e.next=8,sendit(s,l);case 8:(s=e.sent)&&(document.getElementById("frontendvalidation"),200==s.status?(console.log(s),l=JSON.parse(s.message),window.location="/?&firstname="+l.firstname+"&lastname="+l.lastname+"&email="+l.email):console.log(s));case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}var goToMyInfo=function(e){e.preventDefault(),document.getElementById("section_membership").classList.add("done"),document.getElementById("section_myinfo").classList.add("active"),document.querySelector('.gform_footer>input[type="submit"]').classList.add("active")},sendit=function(){var n=_asyncToGenerator(regeneratorRuntime.mark(function e(t,n){var o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(n),o={method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:n},e.prev=2,e.next=5,fetch(t,o);case 5:return a=e.sent,e.next=8,a.json();case 8:if(200==(a=e.sent).status)return console.log(a),e.abrupt("return",a);e.next=12;break;case 12:e.next=17;break;case 14:return e.prev=14,e.t0=e.catch(2),e.abrupt("return",e.t0);case 17:case"end":return e.stop()}},e,null,[[2,14]])}));return function(e,t){return n.apply(this,arguments)}}();function validateUsername(e){if(4<=e.length){console.log(e);e=/^[a-z0-9]+$/.test(e);return console.log(e),e}return!1}function validateEmail(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}var loginModal=function(e){e.preventDefault();var t=document.getElementById(e.target.dataset.modalTarget),n=document.getElementsByTagName("body")[0];n.classList.contains("modal-open")||(t=t.cloneNode(!0),n.classList.add("modal-open"),NeonModalFactory.getInstance(t,e.target))};