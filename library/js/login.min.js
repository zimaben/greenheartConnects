"use strict";function asyncGeneratorStep(e,t,n,a,o,r,s){try{var i=e[r](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(a,o)}function _asyncToGenerator(i){return function(){var e=this,s=arguments;return new Promise(function(t,n){var a=i.apply(e,s);function o(e){asyncGeneratorStep(a,t,n,o,r,"next",e)}function r(e){asyncGeneratorStep(a,t,n,o,r,"throw",e)}o(void 0)})}}var NeonModalFactory=function(){function n(e,t){document.createDocumentFragment;var n=document.createElement("div"),a=document.createElement("span"),o=document.createElement("div"),r=document.getElementsByTagName("body")[0],s=window.scrollY;n.classList.add("neon-modal"),a.classList.add("close"),o.classList.add("neon-modal-content"),o.appendChild(a),o.appendChild(e),n.appendChild(o),r.appendChild(n),r.style.position="fixed",r.style.top=window.scrollY+"px",a.setAttribute("data-scrollback",parseInt(s)),function(e){var t=e.getElementsByTagName("video");{var n;!t.length||void 0!==(n=t[0])&&(n.autoplay=!0,n.play())}}(o),function(e){var t=e.getElementsByTagName("iframe");{var n,a,o;!t.length||void 0!==(n=t[0])&&(console.log(e.getBoundingClientRect().width),a=Math.round(.8*e.getBoundingClientRect().width),o=Math.round(a/16*9),n.height=o,n.width=a)}}(o),a.addEventListener("click",function(e){e.preventDefault();var t=document.getElementsByClassName("neon-modal")[0].querySelector("#neonid-signup-response");null!==t&&(t.innerHTML=""),r.classList.remove("modal-open"),r.removeChild(n),NeonModalFactory.instance=null})}var a;return{getInstance:function(e,t){return null==this.instance?(a=new n(e)).constructor=null:!0===NEON_THEME_debug&&console.log("Can't call a modal from inside a modal."),a}}}(),submitRegistration=function(e){e.preventDefault(),console.log("submit clicked");var t=document.getElementById("passwordconfirm"),n=document.getElementById("password"),a=document.getElementById("frontendvalidation");a.innerText="",a.classList.add("hidden");var o=!1,r=!1,s=!0;t.classList.contains("active")?0<t.value.length&&0<n.value.length?t.value===n.value?r=!0:o="Passwords do not match.":o="Please confirm password.":s=!0;var i,c=document.getElementById("email").value;validateEmail(c)||(o="Please enter a valid email."),!o&&r?registerIt(document.getElementById("username").value=c,c,n.value):!o&&s?(i=document.getElementById("confirmlabel"),t.classList.add("active"),i.classList.add("active")):o&&(a.innerText=o,a.classList.remove("hidden"))};function registerIt(e,t,n){return _registerIt.apply(this,arguments)}function _registerIt(){return(_registerIt=_asyncToGenerator(regeneratorRuntime.mark(function e(t,n,a){var o,r,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("registerit fired"),o=ajaxurl+"?action=register_user_front_end",r=encodeURIComponent("username")+"="+encodeURIComponent(t),r+="&"+encodeURIComponent("email")+"="+encodeURIComponent(n),r+="&"+encodeURIComponent("password")+"="+encodeURIComponent(a),e.next=7,sendit(o,r);case 7:(s=e.sent)&&(document.getElementById("frontendvalidation").innerText=s.message,200==s.status&&(document.getElementById("registration").classList.add("done"),document.getElementById("register_payment").classList.add("active")));case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}var goToMyInfo=function(e){e.preventDefault(),document.getElementById("section_membership").classList.add("done"),document.getElementById("section_myinfo").classList.add("active"),document.querySelector('.gform_footer>input[type="submit"]').classList.add("active")},sendit=function(){var n=_asyncToGenerator(regeneratorRuntime.mark(function e(t,n){var a,o,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("sendit fired"),console.log(n),a={method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:n},e.prev=3,e.next=6,fetch(t,a);case 6:return o=e.sent,e.next=9,o.json();case 9:if(200==(r=e.sent).status)return console.log(r),e.abrupt("return",r);e.next=13;break;case 13:e.next=18;break;case 15:return e.prev=15,e.t0=e.catch(3),e.abrupt("return",e.t0);case 18:case"end":return e.stop()}},e,null,[[3,15]])}));return function(e,t){return n.apply(this,arguments)}}();function validateUsername(e){if(4<=e.length){console.log(e);var t=/^[a-z0-9]+$/.test(e);return console.log(t),t}return!1}function validateEmail(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}var loginModal=function(e){e.preventDefault();var t,n=document.getElementById(e.target.dataset.modalTarget),a=document.getElementsByTagName("body")[0];a.classList.contains("modal-open")||(t=n.cloneNode(!0),a.classList.add("modal-open"),NeonModalFactory.getInstance(t,e.target))};